(this["webpackJsonpface-recognition"]=this["webpackJsonpface-recognition"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n(26)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(2),i=n.n(o),c=(n(16),n(17),n(3)),s=n(4),l=n(9),d=n(5),m=n(10),u=(n(18),n(19),function(){return r.a.createElement("div",{className:"flex justify-end"},r.a.createElement("p",{className:"f4 dim ma3 pa4 washed-red pointer"},"Sign Out"))}),h=(n(20),n(6)),g=n.n(h),w=function(){return r.a.createElement("div",{className:"flex justify-center"},r.a.createElement(g.a,{className:"tilty br-100 w4 h4 shadow-5",settings:{scale:1.05,"max-glare":.5}},r.a.createElement("div",{className:"inner i"},"(=^\uff65\u03c9\uff65^=)")))},v=(n(21),function(e){var t=e.onChange,n=e.onClick;return r.a.createElement("div",null,r.a.createElement("h2",{className:"mb4"},"^  A Cat Face Recongnition  ^"),r.a.createElement("div",{className:"flex justify-center mv4 pa4"},r.a.createElement("div",{className:"w-40-l w-70 m pv4 ph3 br3 bg-washed-red shadow-5"},r.a.createElement("input",{className:"w-70-l w-60 pa2 bn f4",type:"text",onChange:t,placeholder:" image address"}),r.a.createElement("button",{className:"w-20-l w-30 pa2 f4 i link grow bn washed-red bg-darkblue",onClick:n},"Meow!"))))}),f=(n(22),function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"viewer-container"},r.a.createElement("div",{id:"viewer"},r.a.createElement("canvas",{id:"preview"}),r.a.createElement("canvas",{id:"annotations"}))))}),p=n(7),E=n.n(p),y=n(8),k=n.n(y),C={particles:{shape:{type:"images",images:[{src:"./paw-solid.svg",height:20,width:20}],storke:{width:3,color:"#F6FFFE"}}}},b={abortCurrent:function(){this.worker&&this.worker.terminate()},detectCats:function(){var e=document.querySelector("#preview");if(window.Worker){var t=new Worker("/library/detection-worker.js");t.onmessage=this.onMessage,t.onerror=this.onError;var n=window.kittydar.getAllSizes(e);t.postMessage(n),this.worker=t}else{var a=window.kittydar.detectCats(e);this.paintCats(a)}},paintCats:function(e){var t=1==e.length?"cat":"cats";console.log(e.length+" "+t+" detected"),this.clearRects(),this.paintRects(e,"red")},clearRects:function(){var e=document.querySelector("#annotations");e.getContext("2d").clearRect(0,0,e.width,e.height)},paintRects:function(e,t){var n=document.querySelector("#annotations").getContext("2d");n.lineWidth=2,n.strokeStyle=t||"red";for(var a=0;a<e.length;a++){var r=e[a];n.strokeRect(r.x,r.y,r.width,r.height)}},onMessage:function(e){var t=e.data;console.log("onMessage",e),"progress"===t.type?b.showProgress(t):"result"===t.type&&b.paintCats(t.cats)},onError:function(e){console.log("Error from detection Worker:",e.message)},showProgress:function(e){console.log("progress",e),this.paintRects(e.rects,"orange")}},N=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).onChange=function(t){e.setState({input:t.target.value})},e.onClick=function(){e.setState({imgUrl:e.state.input}),e.img.crossOrigin="anonymous",e.img.onload=function(){e.detectImage(e.img)},e.img.src=e.state.input},e.drawToCanvas=function(e){var t=e.width,n=e.height,a=Math.max(t,n),r=Math.min(a,420)/a;t*=r,n*=r;var o=document.querySelector("#viewer-container"),i=document.querySelector("#viewer");o.width=t,o.height=n,i.width=t,i.height=n;var c=document.querySelector("#annotations");c.width=t,c.height=n;var s=document.querySelector("#preview");s.width=t,s.height=n,console.log(e.width,e.height,s,c),s.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n)},e.detectImage=function(t){e.drawToCanvas(t),b.abortCurrent(),b.detectCats()},e.img=new Image,e.state={input:"",imgUrl:""},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u,null),r.a.createElement(w,null),r.a.createElement(k.a,{url:"/library/kittydar-0.1.0.min.js"}),r.a.createElement(v,{onChange:this.onChange,onClick:this.onClick}),r.a.createElement(f,null),r.a.createElement(E.a,{className:"particles",params:C}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[11,1,2]]]);
//# sourceMappingURL=main.22c99289.chunk.js.map